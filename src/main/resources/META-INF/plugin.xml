<idea-plugin>
    <id>com.codacy.intellij.plugin</id>
    <name>Codacy</name>
    <vendor>Codacy</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <depends optional="true" config-file="plugin-withJava.xml">com.intellij.modules.java</depends>
    <depends optional="true" config-file="plugin-withJavaScript.xml">JavaScript</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Codacy" anchor="left"
                    factoryClass="com.codacy.intellij.plugin.views.CodacyPullRequestSummaryToolWindowFactory"
                    canCloseContents="true"/>

        <!--TODO there might be a better way to annotate multiple languages-->
        <externalAnnotator language="ActionScript" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Apex" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Shell Script" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Clojure" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Dart" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Dockerfile" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Elixir" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Erlang" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Fortran" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="go" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Groovy" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="HTML" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="JAVA" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="JavaScript" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="JSON" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="JSON5" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="JSP" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Julia" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="kotlin" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="LESS" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Lua" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Modelica" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="OCaml" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Objective-C" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Perl" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="PHP" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="PLSQL" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Python" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="R" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="ruby" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Rust" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Scala" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Scala 2" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Scala 3" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Scheme" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Solidity" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="SQL" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Swift" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="terraform" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="TypeScript" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Vue" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="XML" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="XSL" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="yaml" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />
        <externalAnnotator language="Zig" implementationClass="com.codacy.intellij.plugin.views.SarifExternalAnnotator" />

        <statusBarWidgetFactory implementation="com.codacy.intellij.plugin.views.CodacyCliStatusBarWidgetFactory" id="com.codacy.intellij.plugin.views.CodacyCliStatusBarWidget"/>
        <localInspection groupPath="Codacy" groupBundle="messages.InspectionsBundle"
                         groupKey="group.names.probable.bugs" enabledByDefault="true"
                         implementationClass="com.codacy.intellij.plugin.views.CodacyInspection"
                         displayName="Codacy inspection" shortName="Codacy" level="ERROR" runForWholeFile="true"/>

        <notificationGroup id="CodacyNotifications" displayType="BALLOON" toolWindowId="Codacy"/>

        <statusBarWidgetFactory implementation="com.codacy.intellij.plugin.views.CodacyStatusBarWidgetFactory"
                                id="com.codacy.intellij.plugin.CodacyStatusBarWidget"/>

        <preStartupActivity implementation="com.codacy.intellij.plugin.listeners.RegisterPluginInstallerStateListener"/>
        <postStartupActivity implementation="com.codacy.intellij.plugin.listeners.StartupListener"/>

        <applicationConfigurable
                id="codacyPluginSettings"
                displayName="Codacy Plugin Settings"
                instance="com.codacy.intellij.plugin.services.common.ConfigConfigurable"
                parentId="tools"
        />
    </extensions>
</idea-plugin>
